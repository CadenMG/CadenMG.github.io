<!doctypehtml>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Patching Node Dependencies</title>

  <meta name="viewport"content="width=device-width,initial-scale=1">
  <meta http-equiv="X-UA-Compatible"content="ie=edge">

  <link rel="shortcut icon"href="../assets/favicon.ico"type="image/x-icon">
  <link rel="preload"href="../styles/article.css"as="style">
  <link rel="stylesheet"href="../styles/article.css">
</head>
<body>
  <header id="top-container"role="navigation">
    <nav>
  <a class="logo-link"href="/">
    <h1>Caden Garrett</h1>
    <span>Building @vast.codes ðŸ¦€</span>
  </a>
  <small>
    <a id="about"class="info-link"href="/about.html">ðŸ‘€About</a> /
    <a id="works"class="info-link"href="/works.html">ðŸ”¥Projects</a> /
    <a id="articles"class="info-link"href="/articles.html">ðŸ“šBlog Posts</a>
  </small>
</nav>

  </header>
  <main id="main-container">
    <article id="article-container">
      <h1 id="article-title">
        Patching Node Dependencies
      </h1>
      
      <time id="article-date">
        2024.08.27
      </time>
      <section id="article-content-container">
        <details><summary>Table of Contents</summary>
<p><div class="table-of-contents"><ul><li><a href="#introduction">Introduction</a><li><a href="#patches">Patches</a></ul></div><p></p>
</details>
<h2 id="introduction"tabindex="-1">Introduction</h2>
<p>I had a problem recently which was at the intersection of multiple newer pieces of technology. Because of this, there werenâ€™t many great libraries to pull from to make to my life easier - Iâ€™d have to just manually implement a lot of itâ€¦ But there were some solutions.
And these few solutions were often broken in some way.</p>
<p>I could clone the repo, make my change, and publish to npm.
Or even push a fix PR and pray the 1 maintainer reviews it.</p>
<h2 id="patches"tabindex="-1">Patches</h2>
<p>Or you donâ€™t have to do any of that.</p>
<p><a href="https://www.npmjs.com/package/patch-package">patch-package</a> lets you instantly make fixes to your dependencies. Itâ€™s as simple as:</p>
<pre class="hljs"><code># edit your dependency
edit node_modules/@package/file.js

# run patch-package to create a patches/ directory and .patch file
npx patch-package @package

# patch can be commited and shared with team
git add patches/
</code></pre>
<p>Now you can apply those patches with <code>npx patch-package</code> (no arguments).</p>
<p>If you donâ€™t want to do this every time you install, you can add a <code>postinstall</code> script like:</p>
<pre class="hljs"><code>&quot;scripts&quot;: {
+  &quot;postinstall&quot;: &quot;patch-package&quot;
 }
</code></pre>
<p>It even provides you with a convenient way of creating issues against the source repo based on your changes:</p>
<pre class="hljs"><code>npx patch-package @package --create-issue
</code></pre>

      </section>
      <section id="article-navigation">
        
          <div class="article-navigation-item article-navigation-next">
            <a href="/article/1.html">
              <div class="article-navigation-arrow article-navigation-next">ï¼œ</div>
              <div class="article-navigation-content article-navigation-next">
                <p class="article-navigation-title">Calling Python from Rust</p>
                <p class="article-navigation-subtitle">A quick and dirty way to call your Python modules from Rust</p>
              </div>
            </a>
          </div>
        
        
          <div class="article-navigation-item article-navigation-prev">
            <a href="/article/2.html">
              <div class="article-navigation-arrow article-navigation-prev">ï¼ž</div>
              <div class="article-navigation-content article-navigation-prev">
                <p class="article-navigation-title">Optimizing Matrix Multiply with Rust</p>
                <p class="article-navigation-subtitle">An instructive intro to performance optimization with Rust</p>
              </div>
            </a>
          </div>
        
      </section>
      <section id="article-list-button-container">
        <a href="/articles.html">
          <div id="article-list-button">ðŸ“š</div>
        </a>
      </section>
    </article>
  </main>


